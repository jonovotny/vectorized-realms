---
layout: post
title: Main map styles
date: 2024-04-09
---
To start, we can group the different area types shown on the map based on similarities of their drawing styles. The legend of the map is a helpful indicator which styles need to be covered (though it does not include every style present on the map). 

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Oceans.PNG" /> Oceans

Oceans form the bottom layer of the map and are fortunately not a very coomplicated style. They start at a solid blue coastline, being light blue very close to the coast, slightly darker blue on a continental shelf and dark blue in the deep sea.
Coastal water regions can be generated based on the outline path of the continent, but the continental shelf will require a separate path due to it's varying distance from the coastline. Fortunately, the gradient from coastal to shelf waters is wide, so it can be approximated with a coarser path and then smoothed over.

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Plains.PNG" /> Plains and Grasslands

Plains (or "Cleared Land" in the legend) are the beige-colored default style for land masses on the map. Visually, it is a mix of random dark-beige blots on a beige background and some random tiny dots. Both of these effects can be generated by applying turbulence/fractal noise filters of svg objects. While the random dots could also be created as svg objects, using a variation of the ["starry sky"](https://css-tricks.com/creating-patterns-with-svg-filters/#aa-starry-sky) effect is more space efficient.

Grasslands are a slight color variation of plains with a wide and smooth color transition. The effect can be generated by adding a color overlay with blurred edges.

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Swamps.PNG" /> Swamps, Marshes and Moors

Swamps and marshes feature a single colored backgroud, while moors have a random 2-color pattern similar to the ones found in the plains style. What unites these styles are the double outlines with random breaks. While this could be solved with two offset outline paths with dashed-lines, ideally we would want a filter to generate the effect on purely the original area path. Similarily, we have to find a way to randomly generate the grass bushles in the swamp and marsh styles.

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Deserts.PNG" /> Deserts

The two desert styles are all about random dots of varying sizes. Generally, the borders of the area have a higher density of dots, while the center sports random groupings of dots. This can probably be achieved by layering multiple turbulence patterns at differen scales on top of each other.

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Hills.PNG" /> Hills and Badlands

The flank lines of hills can be generated from a single wide outline with very narrow dashes and some distortion filters to ass a bit of variation. Badlands are then a combination of the Hill, rocky desert and swamp styles (with the downside that hills will have to be created manually). 

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Mountains.PNG" /> Mountains and Volcanos

Mountains flanks can be created similar to the outlines of hills, but require out- and ridgelines as svg geometry to create alpha masks and change between the lit and shadowed style of mountains. Volcano craters can be created from just their outline, but the smoke clouds will probably have to be placed on a higher layer (just below roads and labels) to avoid interactions with other terrain styles.

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Cliffs.PNG" /> Cliffs and Glaciers

These can use the "shadowed" style of mountain ranges.

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Forests.PNG" /> Forests and Jungles

Forests require the combination of several effects. First, we want to have a cloud-like bumpy outline from a more rough input shape. There is a wide border area containing a dense dot pattern and more sparse dots in the center of the area.

Forests may also encompass other terrain styles, like hills, cliffs, and mountains:

<img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/ForestHills.PNG" />  <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/ForestCliffs.PNG" />

# <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/Rivers.PNG" /> Rivers and Lakes

Finally, lakes and rivers are terrain styles that frequently cross over other styles and would therefore have to be displayed close to the top layers. Lakes and inland seas use the same style as oceans. Interactions with other terrain types include:

<img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/ForestLake.PNG" />  <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/DesertLake.PNG" />  <img src="https://raw.githubusercontent.com/jonovotny/vectorized-realms/gh-pages/images/legend/BadlandsLake.PNG" />

Rivers are a bit of an open problem. The stroke of an svg line can not vary along its path, so representing a river with a single line would prevent us from having rivers taper out as they reach their source. One solution could be to represent rivers as multiple line segments that can have individual widths another would be to fully model them as 2D shapes. The latter would have the downside that it can not be easily resized at higher zoom levels. Another open problem is the seamless connection of coastlines to the river geometries. 

# Other terrains

Ice and snow have simple but distinct styles that were not directly covered in the legend. They would be at the plains/grasslands level.

# Roads/Cities/Labels

While visualy simple, with map markers and labels the issue to store the level of detail at which it should be visible. As we add more dtail maps to the overall world map, showing every footpath would clutter up the map. Though this problem is one that can not be solved in just the svg file, but will have to be included in the final map display app (e.g. [OpenLayers]{https://openlayers.org/})